<!doctype html>
<html lang="en">
<head>
	<title>asdf</title>
	<link rel="stylesheet" type="text/css" href="/default.css">
	<link rel="stylesheet" type="text/css" href="/dark.css">
	<meta charset="uTf-8" />
</head>
<body>
	<div class="info center" style="margin-top:1em;">
		<p style="font-size:24px">Cookie Clicker</p>
		<p>Click the cookie.</p>
		<p>Saving is automatic, provided that your browser has cookies enabled.</p> 
	</div>
	<img src="/res/cookie1.png" class="center" id="cookieImage" onclick="clickCookie()"/>
	<div id="score" style="text-align:center; font-size:64px;"></div>
	<p style="margin:2em auto;"><button onclick="resetScore()" class="block-center" style="color:red; font-size:12pt; font-weight:bold;">Reset Progress</button></p>
	<a href="/index.htm">Home</a>
	
	<script type="text/javascript">
		var score = parseInt(getCookie("score"), 10);
		if (isNaN(score)) score = 0;
		document.getElementById( "score" ).innerHTML = score.toString();
		
		function clickCookie() {
			if (isNaN(score)) {
				score = 1;
				setCookie("score", "1", 3650);
			}else{
				score++;
				setCookie("score", score.toString(), 30);
			}
			document.getElementById( "score" ).innerHTML = score.toString();
		}
		
		function setCookie(cname, cvalue, exdays) {
			var d = new Date();
			d.setTime(d.getTime() + (exdays*24*60*60*1000));
			var expires = "expires="+d.toUTCString();
			document.cookie = cname + "=" + cvalue + "; " + expires;
		}
		
		function getCookie(cname) {
			var name = cname + "=";
			var ca = document.cookie.split(';');
			for(var i=0; i<ca.length; i++) {
				var c = ca[i];
				while (c.charAt(0)==' ') c = c.substring(1);
				if (c.indexOf(name) == 0) return c.substring(name.length,c.length);
			}
			return "";
		}
		
		function resetScore() {
			setCookie("score", "0", -1);
			score = 0;
			document.getElementById( "score" ).innerHTML = "0";
		}
	</script>
</body>	
</html>
