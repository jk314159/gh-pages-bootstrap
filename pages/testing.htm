<!doctype html>
<html lang="en">
<head>

	<title>asdf</title>
	<link rel="stylesheet" type="text/css" href="/default.css">
	<link rel="stylesheet" type="text/css" href="/dark.css">
	<meta charset="uTf-8" />
</head>
<body>
	<h1 class=gold>Finals Calculator</h1><br>
	<div class=info style="margin:0 auto 4em auto">
		<div style="width:50%;float:left">
			Current grade: <input type="text" id="currentgrade" name="currentgrade" style="color:black">%<br>
			Desired grade: <input type="text" id="desiredgrade" name="desiredgrade" style="color:black">%<br>
			Final is worth: <input type="text" id="finalworth" name="finalworth" style="color:black">%<br>
		</div>
		<div style="width:50%;float:right;text-align:right">
			Optional stuff:<br>
			# of questions: <input type="text" id="numQs" name="numQs" style="color:black"><br>
		</div>
		<div style="clear:both;"></div>
		<button onclick="calculateFinal()" style="color:black;width:100%;">GO!</button>
		<div id="requirement" style="text-align:center"></div>
	</div>
	<a href=bestface.htm><img id=dancepig src=/res/dancepig.gif style="margin:0 auto 4em auto" alt="Pig" /></a><br>
		
	<a href="/index.htm">Home</a>
	<script type="text/javascript">
		function calculateFinal(){
			var currentGrade = document.getElementById("currentgrade").value;
			var desiredGrade = document.getElementById("desiredgrade").value;
			var finalWorth = document.getElementById("finalworth").value;
			var numQs = document.getElementById("numQs").value;
			var requirement = (desiredGrade-(1-(finalWorth/100))*currentGrade)*(1/(finalWorth/100));
			var minPossible = (1-(finalWorth/100))*currentGrade;
			var maxPossible = (1-(finalWorth/100))*currentGrade+(finalWorth*1.);
			if (requirement<=100){
				if (requirement<0)
				{
					document.getElementById("requirement").innerHTML = "You'll get your desired grade no matter what.";
				}else{
					document.getElementById("requirement").innerHTML = "You need " + (Math.ceil(requirement*100)/100).toString() + "% on your final.";
					if (numQs!=""){
						document.getElementById("requirement").innerHTML += "<br>That's " + Math.ceil((requirement/100)*numQs) + " out of " + numQs + " questions.";
					}
				}
			}else{
				document.getElementById("requirement").innerHTML = "You're screwed.";
			}
			document.getElementById("requirement").innerHTML += "<br>Your final grade could be anywhere from " + Math.floor(minPossible*100)/100 + "% to " + Math.floor(maxPossible*100)/100 + "%.";
		}
	</script>
</body>	
</html>
