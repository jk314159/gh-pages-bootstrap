<!doctype html>
<html lang="en">
<head>
	<title>asdf</title>
	<link rel="stylesheet" type="text/css" href="/default.css">
	<link rel="stylesheet" type="text/css" href="/light.css">
	<meta charset="uTf-8" />
	<style>
		html, body {
			width: 100%;
			height: 100%;
			margin: 0px;
			border: 0;
			overflow: hidden;
			display: block;
		}
	</style>
</head>
<body>
	<canvas id="canvas" width="100%" height="100%"></canvas>
	<script>
		var can = document.getElementById("canvas");
		var ctx = can.getContext("2d");
		var mouseX = 0;
		var mouseY = 0;
		
		var titlePadding = 4; //4
		var titleHeight = 32; //18
		
		var fWin = {
			width:800,
			height:300,
			icon:"/res/jon.jpg",
			title:"Swood Grommets",
			xPos:50,
			yPos:50
		};
		
		initialize();
		document.addEventListener("mousemove", updateMousePos, false);
		
		function updateMousePos(mouse) {
			mouseX = mouse.clientX;
			mouseY = mouse.clientY;
		}
		 
		function initialize() {
			window.addEventListener("resize", resizeCanvas, false);
			resizeCanvas();
		}
		
		function resizeCanvas() {
			can.width = window.innerWidth;
			can.height = window.innerHeight;
			redraw();
		}
		
		function redraw() {
			ctx.textBaseline = "top";
			
			// Teal BG
			ctx.fillStyle = "#088";
			ctx.fillRect(0, 0, can.width, can.height);
			
			// Window
			ctx.fillStyle = "#CCC";
			ctx.fillRect(fWin.xPos, fWin.yPos, fWin.width, fWin.height);
			
			// Title bar
			var titleBarGradient = ctx.createLinearGradient(0, 0, fWin.width-titlePadding*2, 0);
			titleBarGradient.addColorStop(0, "#008");
			titleBarGradient.addColorStop(1, "#09D");
			ctx.fillStyle = titleBarGradient;
			ctx.fillRect(fWin.xPos+titlePadding, fWin.yPos+titlePadding, fWin.width-titlePadding*2, titleHeight);
			
			// Window icon
			var windowIcon = new Image();
			windowIcon.onload = function() {
				ctx.drawImage(windowIcon, fWin.xPos+titlePadding+2, fWin.yPos+titlePadding+1, titleHeight-2, titleHeight-2);
			};
			windowIcon.src = fWin.icon;
			
			// Window Title
			ctx.fillStyle = "#fff";
			ctx.font = "bold " + titleHeight/2 +"px Verdana";
			ctx.fillText(fWin.title, fWin.xPos+titlePadding+titleHeight+3, fWin.yPos+titlePadding+titleHeight*0.25);
		}
		
		can.ondblclick = function(){
			fWin.xPos = mouseX - fWin.width/2;
			fWin.yPos = mouseY - titleHeight/2 - titlePadding;
			redraw();
		}
	</script>
</body>
</html>
