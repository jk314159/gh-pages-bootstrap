<!doctype html>
<html lang="en">
<head>

	<title>asdf</title>
	<link rel="stylesheet" type="text/css" href="/default.css">
	<link rel="stylesheet" type="text/css" href="/dark.css">
	<meta charset="uTf-8" />
</head>
<body>
	<h1 class=gold>Finals Calculator</h1><br>
	<div class=info style="margin:0 auto 4em auto;font-size:20pt">
		<div style="width:50%;float:left">
			Current grade: <input type="text" id="currentgrade" name="currentgrade" style="color:black;font-size:20pt;width:100px;">%<br>
			Desired grade: <input type="text" id="desiredgrade" name="desiredgrade" style="color:black;font-size:20pt;width:100px;">%<br>
			Final is worth: <input type="text" id="finalworth" name="finalworth" style="color:black;font-size:20pt;width:100px;">%<br>
		</div>
		<div style="width:50%;float:right;text-align:right">
			Optional stuff:<br>
			# of questions: <input type="text" id="numQs" name="numQs" style="color:black;font-size:20pt;width:100px;"><br>
		</div>
		<div style="clear:both;"></div>
		<button onclick="calculateFinal()" style="color:black;width:100%;font-size:20pt">GO!</button>
		<div id="requirement" style="text-align:center"></div>
	</div>
	<a href=bestface.htm><img id=dancepig src=/res/dancepig.gif style="margin:0 auto 4em auto" alt="Pig" /></a><br>
		
	<a href="/index.htm">Home</a>
	<script type="text/javascript">
		function calculateFinal(){
			var currentGrade = document.getElementById("currentgrade").value;
			var desiredGrade = document.getElementById("desiredgrade").value;
			var finalWorth = document.getElementById("finalworth").value;
			var numQs = document.getElementById("numQs").value;
			var requirement = (desiredGrade-(1-(finalWorth/100))*currentGrade)*(1/(finalWorth/100));
			var minPossible = (1-(finalWorth/100))*currentGrade;
			var maxPossible = (1-(finalWorth/100))*currentGrade+(finalWorth*1.);
			if (requirement<=100){
				if (requirement<0)
				{
					document.getElementById("requirement").innerHTML = "<span style='color:#aaf'>You'll get your desired grade no matter what.</span><br>You would need <span style='font-weight:bold'>" + Math.ceil(requirement*100)/100 + "%</span> on your final.";
				}else{
					document.getElementById("requirement").innerHTML = "You need <span style='font-weight:bold'>" + Math.ceil(requirement*100)/100 + "%</span> on your final.";
		
				}
			}else{
				document.getElementById("requirement").innerHTML = "<span style='color:#faa'>You can not get your desired grade.</span><br>You would need <span style='font-weight:bold'>" + Math.ceil(requirement*100)/100 + "%</span> on your final.";
			}
			if (numQs!=""){
				document.getElementById("requirement").innerHTML += "<br>That's <span style='font-weight:bold'>" + Math.ceil((requirement/100)*numQs) + "</span> out of " + numQs + " questions.";
			}
			document.getElementById("requirement").innerHTML += "<br>Your final grade could be anywhere from <span style='font-weight:bold'>" + Math.floor(minPossible*100)/100 + "%</span> to <span style='font-weight:bold'>" + Math.floor(maxPossible*100)/100 + "%</span>.";
		}
	</script>
</body>	
</html>
